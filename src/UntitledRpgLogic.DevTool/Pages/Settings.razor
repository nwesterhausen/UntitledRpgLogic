@page "/settings"
@using UntitledRpgLogic.DevTool.Services.Contracts
@inject IConfigStore ConfigStore

<h1 class="text-2xl mb-4">Settings</h1>

<h2 class="text-lg mb-2">Module Configuration</h2>

<p class="p-2 mb-1">Set your module information here. If you have an existing module.toml file, you can drag it onto the page.</p>

<div class="form-control w-full max-w-xs">
	<label class="label">
		<span class="label-text">Module Name</span>
	</label>
	<input @bind="ConfigStore.ModuleName" type="text" placeholder="Type here" class="input input-bordered w-full max-w-xs"/>
</div>

<div class="form-control w-full max-w-xs">
	<label class="label">
		<span class="label-text">Module Description</span>
	</label>
	<textarea @bind="ConfigStore.ModuleDescription" type="text" placeholder="Type here" class="input input-bordered w-full max-w-xs"></textarea>
</div>

<div class="form-control w-full max-w-xs">
	<label class="label">
		<span class="label-text">Module Version</span>
	</label>
	<input @bind="ConfigStore.ModuleVersion" type="text" placeholder="Type here" class="input input-bordered w-full max-w-xs"/>
</div>

<div class="form-control w-full max-w-xs">
	<label class="label">
		<span class="label-text">Module Version Number</span>
	</label>
	<input @bind="ConfigStore.ModuleVersionNumber" type="number" placeholder="Type here" class="input input-bordered w-full max-w-xs"/>
</div>

<div class="form-control w-full max-w-xs">
	<label class="label">
		<span class="label-text">Module GUID</span>
	</label>
	<input @bind="ConfigStore.ModuleIdentifier" type="text" placeholder="Type here" class="input input-bordered w-full max-w-xs"/>
</div>

<h2 class="text-lg mb-2">Author Configuration</h2>

<p class="p-2 mb-1">Set your author information here. If you have an existing author.toml file, you can drag it onto the page.</p>

<div class="form-control w-full max-w-xs">
	<label class="label">
		<span class="label-text">Author Name</span>
	</label>
	<input @bind="ConfigStore.AuthorName" type="text" placeholder="Type here" class="input input-bordered w-full max-w-xs"/>
</div>

<div class="form-control w-full max-w-xs">
	<label class="label">
		<span class="label-text">Author GUID</span>
	</label>
	<input @bind="ConfigStore.AuthorIdentifier" type="text" placeholder="Type here" class="input input-bordered w-full max-w-xs"/>
</div>

@code {

	// This method is called when the component is initialized
	protected override void OnInitialized()
	{
		Refresh();
		ConfigStore.OnChange += Refresh;
	}

	private void Refresh()
	{
		// This method can be used to refresh the component if needed
		StateHasChanged();
	}

}
